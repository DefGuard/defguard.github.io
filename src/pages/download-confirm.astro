---
import FeaturesTable from "../components/FeaturesTable/FeaturesTable";
import Navigation from "../components/base/Navigation.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import ProductSection from "../layouts/ProductSection.astro";
import FlexibleSection from "../components/FlexibleSection.astro";
import NewsletterSection from "../components/NewsletterSection.astro";
import YouTubeVideo from "../components/video/YouTubeVideo.astro";
import { featuresTableData } from "../data/compare-table";
import { Button } from "../components/buttons/Button/Button";
import OrganizationJSONLD from "../scripts/OrganizationJSONLD.astro";
import GithubReleases from "../components/GithubReleases/GithubReleases.astro";
import ImageURL from "../components/image/ImageURL.astro";

const title =
  "Zero-Trust WireGuard® 2FA/MFA VPN: Book a Demo";
const featuredImage =
  "github.com/DefGuard/defguard.github.io/raw/main/public/images/png/defguard.png";
const imageWidth = "1080";
const imageHeight = "540";
const description = "defguard - Zero-Trust WireGuard® 2FA/MFA VPN - Book a Demo";
const url = "https://defguard.net/book-a-demo/";
const tags = [
  "defgaurd",
  "compare",
  "WireGuard®",
  "2fa",
  "mfa",
  "mfa/2fa",
  "openid",
  "secure",
  "ldap",
  "acl",
  "vpn",
  "sso",
  "firewall",
  "desktop client",
  "mesh",
  "mesh vpn",
  "nat",
  "yubikey",
  "email",
  "email notifications",
  "gateway",
  "auth",
  "ssh",
];
---

<BaseLayout
  title={title}
  description={description}
  featuredImage={featuredImage}
  imageWidth={imageWidth}
  imageHeight={imageHeight}
  url={url}
>
  <OrganizationJSONLD
    slot="schema"
    title={title}
    description={description}
    url={url}
    tags={tags}
  />
  <Navigation activeSlug="/download-confirm/" />
  <main id="download-confirm">
    <ProductSection padding="none">
      <div class="page-header">
        <h1>Download Defguard Server</h1>
        <p class="subtitle">Secure. Self-Hosted. Enterprise-Grade WireGuard® control-plane</p>
      </div>
      <FlexibleSection id="release-info" variant="white" theme="light" leftRatio={0.55}>
        <div slot="left">
          <GithubReleases repoUrl="https://github.com/DefGuard/defguard" />
        </div>
        <div slot="right">
          <div class="whats-new-section">
            <h2>What's new in 1.6?</h2>
            <div class="release-image">
              <ImageURL src="/images/blog/defguard-1.6-release-notes/Release-1.6.png" alt="defguard release 1.6 - Zero-touch Enrollment and Pre-logon VPN" />
            </div>
            <ul>
              <li>
                <strong>Pre-logon VPN for Active Directory:</strong> Connect before Windows login for secure AD authentication.
              </li>
              <li>
                <strong>Zero-touch Enrollment:</strong> Automated provisioning via MSI (Intune/GPO), App Store (MDM), AD/Entra ID.
              </li>
              <li>
                <strong>Always-On VPN Mode:</strong> Persistent connections with security policy enforcement.
              </li>
              <li>
                <strong>Native Platform Clients:</strong> macOS App Store + Windows WireGuardNT integration.
              </li>
              <li>
                <strong>MTU Settings:</strong> Fix connectivity on restrictive networks.
              </li>
            </ul>
            <div class="learn-more">
              <a href="/blog/defguard-16-release-notes/" class="learn-more-link">Read Full Release Notes →</a>
            </div>
          </div>
          
          <div class="newsletter-wrapper">
            <NewsletterSection
              headerLevel="3"
              title="Stay Updated on New Releases"
              description="Release notes and occasional news — no spam, just one email per month max."
            />
          </div>
        </div>
      </FlexibleSection>
    </ProductSection>
  </main>
</BaseLayout>

<style lang="scss" is:global>

  .btn.size-normal{
    margin: 0 0 0 auto;
    min-height: unset !important;
    height:38px;
    border-radius: unset;
    width: 100%;  
  
    @include break-down(lg) {
      margin: 0 auto;
    }
  }
  .btn{
    border-color: var(--text-button-tertiary);

    &:hover{
      border: unset;
      background-color: var(--text-button-tertiary);
    
      span {
       color: white;
      }
    }
  }

  #download-confirm {
    .product-section {
      padding-top: 0 !important;
      padding-bottom: 0rem !important;
      border: none;
      display: unset;
    }

    .page-header {
      text-align: center;
      padding: 3rem 1.5rem 2rem;
      
      h1 {
        font-size: 2.25rem;
        font-weight: 700;
        margin: 0 0 0.75rem 0;
        color: var(--text-body-primary);

        @include break-down(md) {
          font-size: 1.75rem;
        }
      }

      .subtitle {
        font-size: 1.125rem;
        color: var(--text-body-secondary, #666);
        margin: 0;
        font-weight: 400;
        letter-spacing: 0.02em;
      }
    }

    .whats-new-section {
      margin-bottom: 2rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid var(--border-separator, #e5e7eb);

      h2 {
        font-size: 1.25rem;
        font-weight: 600;
        margin: 0 0 1rem 0;
        color: var(--text-body-primary);
      }

      .release-image {
        margin-bottom: 1rem;
        border-radius: 8px;
        overflow: hidden;

        img {
          width: 100%;
          height: auto;
          display: block;
        }
      }

      ul {
        margin: 0;
        padding-left: 1.25rem;
        
        li {
          font-size: 0.9rem;
          line-height: 1.5;
          margin-bottom: 0.5rem;
          color: var(--text-body-secondary, #666);

          strong {
            color: var(--text-body-primary);
          }
        }
      }
    }

    .newsletter-wrapper {
      .newsletter-section {
        padding: 0;
        background: transparent;
      }
    }

    .learn-more {
        margin-top: 1rem;
    }
      
    .learn-more-link {
        display: inline-block;
        padding: 0.5rem 1rem;
        background-color: var(--primary-button-bg, #0c8ce0);
        color: var(--primary-button-text, white);
        border-radius: 50px;
        font-weight: 500;
        font-size: 0.875rem;
        text-decoration: none;
        transition: background-color 0.2s ease-in-out;

        &:hover {
          background-color: var(--primary-button-hover, #0a7bc5);
        }
    }

    .contact {
      width: 100%;
      border-top: 1px solid var(--border-separator);
      display: flex;
      flex-flow: row;
      align-items: center;
      justify-content: center;
      box-sizing: border-box;
      padding: 100px 10px 0px 10px;

      a {
        text-decoration: none;
      }
    }
  }
</style>