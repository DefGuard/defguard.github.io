---
import { getCollection } from "astro:content";
import Navigation from "../components/base/Navigation.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import OrganizationJSONLD from "../scripts/OrganizationJSONLD.astro";
import BookDemoForm from "../components/form/BookDemoForm/BookDemoForm";
import PricingHeaderContent from "../data/pricing/page-header.mdx";
import { PricingCards } from "../components/pricing/Pricing";
import ContentLimiter from "../components/ContentLimiter.astro";

const pricingCollection = await getCollection("pricing");
// sort and map to prop type
const pricingData = pricingCollection
  .filter((p) => !p.data.disabled)
  .sort((p1, p2) => p1.data.order - p2.data.order)
  .map((p) => ({ ...p.data, content: p.body, id: p.id }));

const title =
  "defguard enterprise open-source SSO&VPN with 2FA/MFA: Pricing for Enterprise";
const featuredImage =
  "github.com/DefGuard/defguard.github.io/raw/main/public/images/png/defguard.png";
const imageWidth = "1080";
const imageHeight = "540";
const description =
  "defguard - enterprise open-source SSO&VPN - the only open-source solution with real WireGuard MFA/2FA & integrated OpenID Connect SSO";
const url = "https://defguard.net/pricing/";
const tags = [
  "defguard",
  "wireguard",
  "free",
  "open source",
  "premium",
  "enterprise",
  "openid",
  "ldap",
  "openldap",
  "mfa/2fa",
  "yubikey",
  "site-to-site",
  "vpn",
  "support",
  "call support",
  "sso",
  "security",
];
---

<BaseLayout
  title={title}
  description={description}
  featuredImage={featuredImage}
  imageWidth={imageWidth}
  imageHeight={imageHeight}
>
  <OrganizationJSONLD
    slot="schema"
    title={title}
    description={description}
    url={url}
    tags={tags}
  />
  <Navigation activeSlug="/pricing/" />
  <main id="pricing-page">
    <ContentLimiter contentId="pricing-tiers" maxWidth={1100}>
      <header>
        <h1>Pricing</h1>
        <PricingHeaderContent />
      </header>
      <PricingCards client:load data={pricingData} />
      <div id="sla-support">
        <div id="sla-card">
          <div class="left">
            <p>Enterprise<br /><span>SLA Support</span></p>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="705"
              height="145"
              viewBox="0 0 705 145"
              fill="none"
            >
              <path
                d="M2570.84 92.5023L2552.5 95.2405C2551.95 95.323 2551.39 95.3515 2550.83 95.3256L2533.63 94.5259C2532.74 94.4845 2531.85 94.582 2530.98 94.8151L2510.05 100.474C2509.01 100.756 2507.92 100.839 2506.85 100.719L2499.12 99.8526C2498.06 99.7338 2497.03 99.4193 2496.09 98.9251L2481.52 91.307C2478.81 89.8883 2475.55 90.0157 2472.96 91.6419L2446.65 108.138C2444.67 109.38 2442.27 109.764 2440 109.2L2394.57 97.9166C2392.74 97.4625 2390.82 97.6204 2389.09 98.3659L2371.47 105.959C2369.64 106.748 2367.59 106.877 2365.67 106.324L2354 102.951C2352.59 102.542 2351.09 102.503 2349.66 102.837L2336.85 105.82C2333.53 106.593 2330.07 105.338 2328.02 102.619L2297.8 62.5424C2294.63 58.3462 2288.48 57.9392 2284.79 61.6821L2241.57 105.523C2238.37 108.768 2233.2 108.959 2229.77 105.958L2221.37 98.6121C2219.04 96.5686 2215.78 95.9402 2212.85 96.9674L2200.45 101.316C2199.56 101.631 2198.61 101.795 2197.66 101.801L2178.65 101.916C2178.12 101.92 2177.59 101.874 2177.07 101.781L2158.24 98.3987C2157.24 98.2196 2156.22 98.218 2155.22 98.3941L2138.98 101.259C2138.57 101.331 2138.16 101.373 2137.75 101.386L2060.55 103.767C2059.78 103.791 2059.02 103.713 2058.28 103.534L2013.52 92.807C2011.62 92.3532 2009.63 92.5545 2007.87 93.3781L1984.92 104.09C1981.91 105.494 1978.37 105.044 1975.8 102.935L1957.28 87.6836C1953.41 84.4927 1947.64 85.2792 1944.76 89.3904L1910.56 138.207C1908.12 141.69 1903.51 142.87 1899.69 140.987L1878.17 130.349C1876.05 129.304 1873.6 129.173 1871.39 129.986L1853.93 136.397C1852.15 137.052 1850.2 137.099 1848.38 136.529L1828.84 130.393C1828.26 130.21 1827.66 130.09 1827.05 130.034L1783.52 126.013C1782.14 125.886 1780.76 126.091 1779.48 126.611L1767.85 131.339C1765.87 132.147 1763.65 132.185 1761.64 131.445L1739.45 123.293C1737.67 122.639 1735.72 122.591 1733.91 123.157L1708.4 131.131C1706.75 131.646 1704.99 131.654 1703.34 131.155L1675.78 122.828C1673.58 122.163 1671.2 122.405 1669.18 123.501L1660.11 128.422C1658.38 129.36 1656.39 129.677 1654.45 129.323L1577.18 115.153C1575.19 114.788 1573.39 113.736 1572.1 112.179L1545.07 79.573C1542.85 76.8901 1539.23 75.8123 1535.9 76.8425L1446.23 104.592C1441.23 106.138 1436.02 102.913 1435.18 97.7532L1424.25 30.7868C1422.69 21.2078 1408.94 21.1329 1407.27 30.6943L1394.94 101.414C1394.08 106.345 1389.21 109.507 1384.36 108.285L1323.23 92.9036C1320.89 92.3135 1318.4 92.7365 1316.39 94.0692L1284.53 115.113C1281.61 117.042 1277.81 117.012 1274.92 115.037L1248.32 96.8567C1245.19 94.7174 1241.03 94.8768 1238.08 97.2494L1215.35 115.486C1212.07 118.113 1207.38 117.996 1204.24 115.207L1193.1 105.308C1191.07 103.512 1188.33 102.77 1185.68 103.305L1136.29 113.261C1135.16 113.49 1134.08 113.946 1133.12 114.603L1112.25 128.932C1109.11 131.083 1104.94 130.926 1101.98 128.546L1085.1 114.989C1081.58 112.158 1076.47 112.534 1073.39 115.85L1051.45 139.54C1046.97 144.374 1038.94 142.592 1036.93 136.317L998.944 17.8333C996.272 9.50009 984.316 10.0024 982.353 18.5304L961.926 107.256C960.4 113.886 952.15 116.21 947.387 111.353L926.5 90.0554C923.842 87.3447 919.722 86.6949 916.359 88.4559L866.172 114.73C864.765 115.467 863.183 115.8 861.6 115.693L771.432 109.625C770.567 109.567 769.717 109.379 768.908 109.067L751.451 102.325C749.441 101.549 747.213 101.555 745.208 102.341L724.767 110.35C723.732 110.755 722.629 110.956 721.518 110.942L700.819 110.683C698.962 110.659 697.162 110.036 695.688 108.906L684.105 100.026C679.863 96.7746 673.715 98.1316 671.237 102.866L662.443 119.665C659.113 126.026 649.918 125.757 646.965 119.212L596.687 7.74927C593.483 0.644671 583.241 1.11325 580.698 8.4808L543.92 115.053C542.213 119.998 536.528 122.291 531.868 119.915L520.761 114.25C518.054 112.87 514.82 113.018 512.251 114.64L502.071 121.068C498.75 123.166 494.431 122.75 491.571 120.057L473.498 103.04C470.792 100.493 466.758 99.9682 463.491 101.739L413.99 128.578C410.198 130.634 405.47 129.567 402.929 126.082L373.803 86.1494C370.55 81.6895 363.999 81.3992 360.365 85.5539L345.03 103.083C343.864 104.415 342.316 105.356 340.596 105.777L333.619 107.485C331.435 108.02 329.128 107.679 327.191 106.535L304.35 93.0389C302.769 92.1048 300.931 91.7006 299.104 91.8851L280.681 93.7463C279.492 93.8664 278.29 93.7376 277.153 93.368L257.921 87.1155C256.716 86.7235 255.438 86.6026 254.18 86.7615L164.341 98.108C161.077 98.5202 157.864 97.0371 156.06 94.2861L152.992 89.6056C150.085 85.1717 143.9 84.3929 139.985 87.9676L106.328 118.695C103.008 121.727 97.9134 121.694 94.633 118.618L39.2401 66.6887C35.2267 62.9262 28.7626 63.8406 25.9502 68.5686L-10.7083 130.197"
                stroke="#6800ED"
                stroke-width="3.44436"
                stroke-miterlimit="10"
                stroke-linecap="round"></path>
            </svg>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="705"
              height="66"
              viewBox="0 0 705 66"
              fill="none"
            >
              <path
                d="M-10.7083 50.607L49.7319 4.33191C52.8212 1.96665 57.1127 1.96682 60.2018 4.3323L117.17 47.9556C119.86 50.0154 123.507 50.3065 126.49 48.6994L133.443 44.9525C135.456 43.8677 137.818 43.6283 140.008 44.2869L167.754 52.6317C169.398 53.126 171.151 53.1179 172.79 52.6085L198.499 44.617C200.301 44.0568 202.237 44.1042 204.01 44.7519L226.384 52.9267C228.387 53.6585 230.59 53.6212 232.567 52.822L244.317 48.0718C245.589 47.5575 246.965 47.3547 248.332 47.4802L292.117 51.5041C292.721 51.5596 293.317 51.6786 293.896 51.8593L313.59 58.008C315.395 58.5716 317.336 58.5252 319.112 57.876L336.712 51.4435C338.918 50.6371 341.358 50.767 343.466 51.8031L365.202 62.4857C369.004 64.3544 373.601 63.1795 376.041 59.7155L407.563 14.9519C411.303 9.64109 419.352 10.2253 422.286 16.0206L438.281 47.6171C440.378 51.7589 445.381 53.4931 449.591 51.5376L470.079 42.0223C471.836 41.2062 473.817 41.0066 475.701 41.4556L520.731 52.1838C521.47 52.3599 522.23 52.4374 522.99 52.4142L600.626 50.0415C601.037 50.029 601.446 49.987 601.851 49.916L618.201 47.0471C619.193 46.8731 620.208 46.8744 621.199 47.051L640.169 50.4297C640.683 50.5213 641.205 50.5659 641.727 50.563L660.864 50.4565C661.814 50.4513 662.756 50.2889 663.653 49.976L676.173 45.6078C679.091 44.5897 682.331 45.2135 684.662 47.2424L693.184 54.6578C696.608 57.638 701.758 57.4475 704.954 54.2225L748.495 10.2736C752.181 6.55284 758.308 6.95735 761.473 11.1305L791.939 51.3C793.991 54.0055 797.441 55.2525 800.748 54.484L813.679 51.4795C815.107 51.1476 816.596 51.186 818.006 51.5908L829.8 54.9793C831.708 55.5272 833.745 55.3997 835.569 54.6182L853.328 47.0095C855.05 46.2719 856.965 46.1157 858.783 46.5647L904.516 57.8559C906.775 58.4137 909.164 58.0334 911.138 56.8017L937.644 40.2644C940.229 38.6518 943.473 38.525 946.176 39.9308L960.878 47.5783C961.819 48.068 962.843 48.3795 963.898 48.497L971.702 49.367C972.771 49.4861 973.852 49.4041 974.89 49.1252L995.955 43.4664C996.811 43.2365 997.697 43.1401 998.582 43.1806L1015.92 43.9729C1016.47 43.9981 1017.02 43.9701 1017.57 43.889L1035.14 41.2878C1035.73 41.2018 1036.31 41.1755 1036.9 41.2092L1115.15 45.712C1117.08 45.8226 1118.98 45.2858 1120.56 44.1872L1124.03 41.7769C1126.44 40.1018 1129.54 39.7706 1132.25 40.8982L1164.29 54.225C1166.43 55.1161 1168.84 55.105 1170.98 54.1943L1221.41 32.6724C1224.26 31.4535 1227.55 31.8668 1230.02 33.7541L1258.57 55.6045C1260.54 57.1116 1263.06 57.6965 1265.49 57.2097L1298.47 50.607L1363.95 28.5989C1365.81 27.9716 1367.84 28.0029 1369.68 28.6875L1427.11 49.986C1429.44 50.8467 1432.01 50.667 1434.19 49.4928L1442.62 44.9525C1444.63 43.8677 1446.99 43.6283 1449.18 44.2869L1476.93 52.6317C1478.57 53.126 1480.33 53.1179 1481.97 52.6085L1507.67 44.617C1509.48 44.0568 1511.41 44.1042 1513.19 44.7519L1533.11 52.0312C1536.46 53.2553 1540.22 52.287 1542.56 49.5963L1567.04 21.4719C1570.66 17.311 1577.2 17.5805 1580.47 22.025L1600.53 49.3103C1601.61 50.7896 1603.15 51.8827 1604.9 52.4298L1622.77 58.008C1624.57 58.5716 1626.51 58.5252 1628.29 57.876L1645.89 51.4435C1648.09 50.6371 1650.53 50.767 1652.64 51.8031L1675.64 63.107C1678.86 64.686 1682.71 64.1124 1685.32 61.6663L1719.22 29.942C1722.89 26.5148 1728.69 26.9307 1731.83 30.8451L1746.99 49.7741C1749.47 52.8684 1753.75 53.8697 1757.34 52.1995L1779.25 42.0223C1781.01 41.2062 1782.99 41.0066 1784.88 41.4556L1829.91 52.1838C1830.65 52.3599 1831.41 52.4374 1832.17 52.4142L1909.82 50.0416C1910.23 50.029 1910.64 49.9869 1911.05 49.9157L1927.38 47.0474C1928.37 46.8732 1929.38 46.8743 1930.38 47.0508L1949.36 50.43C1949.88 50.5214 1950.4 50.5659 1950.92 50.563L1970.04 50.4565C1970.99 50.4513 1971.93 50.2889 1972.83 49.976L1985.35 45.6078C1988.27 44.5897 1991.51 45.2135 1993.84 47.2424L2005.35 57.2559C2007.31 58.9639 2009.94 59.6929 2012.5 59.2392L2063.94 50.1293C2064.86 49.9669 2065.8 49.9544 2066.72 50.0923L2102.86 55.5041C2103.94 55.6648 2105.03 55.6212 2106.09 55.3756L2122.85 51.4795C2124.28 51.1476 2125.77 51.186 2127.18 51.5908L2138.98 54.9794C2140.88 55.5273 2142.92 55.3997 2144.75 54.6182L2162.5 47.0094C2164.23 46.2719 2166.14 46.1156 2167.96 46.5644L2213.71 57.856C2215.97 58.4137 2218.36 58.0329 2220.33 56.8005L2246.82 40.2662C2249.4 38.6526 2252.65 38.5253 2255.35 39.9315L2270.05 47.578C2271 48.0679 2272.02 48.3794 2273.07 48.4968L2280.9 49.3674C2281.97 49.4863 2283.05 49.4042 2284.08 49.1254L2305.15 43.4665C2306.01 43.2365 2306.89 43.1401 2307.78 43.1806L2325.09 43.9728C2325.65 43.9981 2326.2 43.9701 2326.75 43.889L2344.32 41.2878C2344.9 41.2018 2345.49 41.1755 2346.08 41.2092L2424.33 45.712C2426.25 45.8226 2428.16 45.2858 2429.74 44.1871L2433.21 41.7769C2435.62 40.1018 2438.72 39.7706 2441.43 40.8982L2473.46 54.225C2475.61 55.1161 2478.02 55.105 2480.15 54.1943L2530.58 32.6724C2533.44 31.4535 2536.73 31.8668 2539.19 33.7541L2570.84 57.9757"
                stroke="#0C8CE0"
                stroke-width="3.44436"
                stroke-miterlimit="10"
                stroke-linecap="round"></path>
            </svg>
          </div>
          <div class="right">
            <h3>Custom Solution</h3>
            <p>
              If your needs require special attention, defguard <strong
                >Enterprise SLA Support</strong
              >
              offers more than standard, with added benefits customized to your exact specifications.
            </p>
            <div class="bottom">
              <a href="mailto:sales@defguard.net">Contact Sales</a>
            </div>
          </div>
        </div>
      </div>
      <div class="product-features">
        <div class="form-description">
          <h3>Looking for custom deployment or features?</h3>
          <p>
            We provide consulting or custom deployment and security services. You also can
            commission us to deliver custom features or integrations (for the server
            and/or the client). Just fill out the form below.
          </p>
          <h3>You need an enterprise features for free?</h3>
          <p>
            If you are a: <strong>non profit organization</strong> or <strong
              >open source project</strong
            >, please contact us by filling out the form below for Enterprise license.
          </p>
        </div>
        <BookDemoForm client:load />
      </div>
    </ContentLimiter>
  </main>

  <style lang="scss" is:global>
    #pricing-container {
      padding-bottom: 40px;
    }

    #pricing-tiers {
      padding-top: calc(100px - var(--nav-height));

      @include break-up(md) {
        padding-top: calc(200px - var(--nav-height));
      }

      h1 {
        @include typography(section);
      }

      h2 {
        @include typography(pricebox-title);
      }

      h3 {
        @include typography(pricebox-price);
      }

      h4 {
        @include typography(pricebox-section);
      }

      header {
        display: flex;
        flex-flow: column;
        justify-content: flex-start;
        width: 100%;
        padding-bottom: 50px;
        gap: 20px;

        h1 {
          text-align: left;
        }

        h2 {
          @include typography(h2);
        }

        section.license-section {
          display: flex;
          @include typography(paragraph);

          .license-about {
            width: 100%;
            max-width: 55ch;
            padding-right: 30px;
          }

          hr {
            padding: 0;
            margin: 0 20px 0 20px;
          }

          .license-points {
            & > a {
              text-decoration: underline;
            }
            @include font-scalable(16px);
          }
        }

        @include break-down(lg) {
          section.license-section {
            display: flex;
            flex-flow: column;

            .license-about {
              max-width: 100%;
            }

            hr {
              margin: 20px 0 20px 0;
            }

            .license-points {
              justify-content: flex-start;
              @include typography(paragraph);
            }
          }
        }
      }

      .contact {
        border-top: 1px solid var(--border-separator);
        display: flex;
        flex-flow: row;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
        padding: 30px 10px 10px;

        a {
          text-decoration: none;
        }
      }

      & > * {
        width: 100%;
      }

      .product-features {
        .form-description {
          width: 100%;
          display: flex;
          flex-flow: column;
          row-gap: 30px;
          padding-bottom: 30px;

          h3 {
            @include typography(pricebox-section);
            font-weight: 600;
          }

          p {
            @include typography(paragraph);

            strong {
              font-weight: 600;
            }
          }
        }
      }
    }

    #sla-support {
      padding-bottom: 60px;

      #sla-card {
        display: grid;
        background-color: var(--surface-nav-bg);
        box-shadow: 0px 12px 24px 0px rgba(0, 0, 0, 0.08);
        grid-template-columns: 1fr;
        grid-template-rows: 1fr auto;

        @include break-up(lg) {
          grid-template-columns: 1fr 390px;
          grid-template-rows: 1fr;
        }

        & > * {
          width: 100%;
        }

        & > .left {
          position: relative;
          overflow: hidden;
          grid-column: 1 / 2;
          grid-row: 1;

          & > p {
            box-sizing: border-box;
            font-family: "Poppins";
            font-size: 55px;
            font-weight: 400;
            line-height: 1.14;
            padding-top: 20px;
            padding-left: 20px;
            padding-bottom: 174px;

            @include break-up(md) {
              padding-top: 54px;
              padding-left: 58px;
            }
          }

          & > svg {
            position: absolute;
            bottom: 30px;
            left: -950px;
            width: 2600px;
          }
        }

        & > .right {
          grid-column: 1 / 2;
          grid-row: 2;
          box-sizing: border-box;
          padding: 20px;
          display: flex;
          flex-flow: column;
          flex-grow: 1;
          align-items: flex-start;

          @include break-down(lg) {
            row-gap: 40px;
          }

          @include break-up(lg) {
            grid-column: 2 / 3;
            grid-row: 1;
            border-left: 1px solid var(--border-separator);
            justify-content: space-between;
            min-height: 355px;
          }

          & > h3 {
            @include typography(pricebox-title);
          }
          & > p {
            @include typography(h3);

            font-weight: 300;
            strong {
              font-weight: 700;
            }
          }
          & > .bottom {
            display: flex;
            flex-flow: row;
            align-items: center;
            justify-content: flex-end;
            width: 100%;

            a {
              cursor: pointer;
              text-decoration: none;
              @include typography(menu);
              font-weight: 300;
              color: #fff;
              box-sizing: border-box;
              background-color: var(--surface-main-primary);
              padding: 16px 32px;
              border-radius: 50px;
            }
          }
        }
      }
    }
  </style>
</BaseLayout>
